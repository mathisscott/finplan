{
  "version": 3,
  "sources": ["../../../app/routes/dashboard.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/dashboard.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/dashboard.tsx\");\n  import.meta.hot.lastModified = \"1710254090215.1072\";\n}\n// REMIX HMR END\n\nimport { json } from '@remix-run/node';\nimport { Form, Link as RemixLink, Outlet, useLoaderData, useLocation, useRouteError } from '@remix-run/react';\nimport { Container } from '~/components/containers';\nimport { H1 } from '~/components/headings';\nimport { NavLink } from '~/components/links';\nimport { db } from '~/modules/db.server';\nimport { requireUserId } from '~/modules/session/session.server';\nexport const headers = () => {\n  return {\n    'Cache-Control': 'no-cache, private'\n  };\n};\nexport const meta = ({\n  matches\n}) => {\n  const root = matches.find(match => match.id === 'root');\n  const userName = root?.data?.user?.name || null;\n  const title = userName ? `${userName}'s Dashboard | Financial Planner` : 'Dashboard | Financial Planner';\n  return [{\n    title\n  }, {\n    name: 'robots',\n    content: 'noindex'\n  }];\n};\nexport async function loader({\n  request\n}) {\n  const userId = await requireUserId(request);\n  const expenseQuery = db.expense.findFirst({\n    orderBy: {\n      createdAt: 'desc'\n    },\n    where: {\n      userId: userId\n    }\n  });\n  const invoiceQuery = db.invoice.findFirst({\n    orderBy: {\n      createdAt: 'desc'\n    },\n    where: {\n      userId: userId\n    }\n  });\n  const [firstExpense, firstInvoice] = await Promise.all([expenseQuery, invoiceQuery]);\n  return json({\n    firstExpense,\n    firstInvoice\n  });\n}\nfunction Layout({\n  firstExpense,\n  firstInvoice,\n  children\n}) {\n  _s();\n  const location = useLocation();\n  return <>\n      <header>\n        <Container className=\"p-4 mb-10\">\n          <nav>\n            <ul className=\"w-full flex flex-row gap-5 font-bold text-lg lg:text-2xl\">\n              <li>\n                <RemixLink to=\"/\">Financial Planner</RemixLink>\n              </li>\n              <li className=\"ml-auto\">\n                <Form method=\"POST\" action=\"/logout\">\n                  <button type=\"submit\">Log out</button>\n                </Form>\n              </li>\n            </ul>\n            <ul className=\"mt-10 w-full flex flex-row gap-5\">\n              <li className=\"ml-auto\">\n                <NavLink to={firstInvoice ? `/dashboard/income/${firstInvoice.id}` : '/dashboard/income'} styleAsActive={location.pathname.startsWith('/dashboard/income')} prefetch=\"intent\">\n                  Income\n                </NavLink>\n              </li>\n              <li className=\"mr-auto\">\n                <NavLink to={firstExpense ? `/dashboard/expenses/${firstExpense.id}` : '/dashboard/expenses'} styleAsActive={location.pathname.startsWith('/dashboard/expenses')} prefetch=\"intent\">\n                  Expenses\n                </NavLink>\n              </li>\n            </ul>\n          </nav>\n        </Container>\n      </header>\n      <main className=\"p-4 w-full flex justify-center items-center\">{children}</main>\n    </>;\n}\n_s(Layout, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = Layout;\nexport default function Component() {\n  _s2();\n  const {\n    firstExpense,\n    firstInvoice\n  } = useLoaderData();\n  return <Layout firstExpense={firstExpense} firstInvoice={firstInvoice}>\n      <Outlet />\n    </Layout>;\n}\n_s2(Component, \"46wOaqIreZSJLlmapR7NjlerQtI=\", false, function () {\n  return [useLoaderData];\n});\n_c2 = Component;\nexport function ErrorBoundary() {\n  _s3();\n  const error = useRouteError();\n  const errorMessage = error instanceof Error && error.message;\n  return <Layout firstExpense={null} firstInvoice={null}>\n      <Container className=\"p-5 lg:p-20 flex flex-col gap-5\">\n        <H1>Unexpected Error</H1>\n        <p>We are very sorry. An unexpected error occurred. Please try again or contact us if the problem persists.</p>\n        {errorMessage && <div className=\"border-4 border-red-500 p-10\">\n            <p>Error message: {error.message}</p>\n          </div>}\n      </Container>\n    </Layout>;\n}\n_s3(ErrorBoundary, \"oAgjgbJzsRXlB89+MoVumxMQqKM=\", false, function () {\n  return [useRouteError];\n});\n_c3 = ErrorBoundary;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Layout\");\n$RefreshReg$(_c2, \"Component\");\n$RefreshReg$(_c3, \"ErrorBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
